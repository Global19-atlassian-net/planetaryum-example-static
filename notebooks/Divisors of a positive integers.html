
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Divisors-of-a-positive-integer">Divisors of a positive integer<a class="anchor-link" href="#Divisors-of-a-positive-integer">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#160;Author:-Pedro-A.-Garc&#237;a-S&#225;nchez">&#160;Author: Pedro A. Garc&#237;a S&#225;nchez<a class="anchor-link" href="#&#160;Author:-Pedro-A.-Garc&#237;a-S&#225;nchez">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This notebook interactively plots the set $\mathrm{Divisors}(n)$ under the binary relation $\mid$ (division), with $n$ a positive integer.</p>
<p>It also has the option to draw the Hasse diagram associated to $(\mathrm{Divisors}(n),\mid)$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">SVG</span><span class="p">,</span> <span class="n">display</span><span class="p">,</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">graphviz</span> <span class="k">as</span> <span class="nn">gv</span>

<span class="k">class</span> <span class="nc">relation</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is a simplifed version of the &quot;relation&quot; class [see references]</span>
<span class="sd">    Attributes:</span>
<span class="sd">        l is the set of tuples that defines the binary relation </span>
<span class="sd">        uni is the set where the relation is defined</span>
<span class="sd">        zero defined for relations with a minimum</span>
<span class="sd">        one defined for relations with a maximum</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">uni</span><span class="o">=</span><span class="nb">set</span><span class="p">({})):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a (finie) binary relation from the list of tuples l and an optional universe uni</span>
<span class="sd">        If the universe is not specified, then it takse the union of all the tuples in the relation</span>

<span class="sd">        Args:</span>
<span class="sd">            l a set of pairs (tuples)</span>
<span class="sd">            uni (optional) a set where the elements of the tuples are </span>
<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; r = relation({(1,2),(2,3)}, {1,2,3,4})</span>
<span class="sd">            &gt;&gt;&gt; print(r)</span>
<span class="sd">            {(1, 2), (2, 3)} on the set {1, 2, 3, 4}</span>
<span class="sd">            &gt;&gt;&gt; r</span>
<span class="sd">            Binary relation</span>
<span class="sd">            &gt;&gt;&gt; r(2,3)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; r(1,3)</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="nb">set</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The argument must be a list of pairs (as lists with two elements)&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">==</span><span class="mi">2</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">l</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The elements in the list must be lists with two elments (pairs)&quot;</span><span class="p">)</span>
        <span class="n">u</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([])</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
            <span class="n">u</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">uni</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">u</span> <span class="o">&lt;=</span> <span class="n">uni</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;There are pairs with elements not in the given universe&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">universo</span> <span class="o">=</span> <span class="n">uni</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">universo</span> <span class="o">=</span> <span class="n">u</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rels</span> <span class="o">=</span> <span class="n">l</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Binary relation&quot;</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rels</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; on the set &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rel</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">rel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Detects if a and b are related via binary relation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rels</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draws the elements in the universe (vertices) and the relations among them (edges)</span>
<span class="sd">        If l is given, then displays its elments with a double circle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">g</span><span class="o">=</span><span class="n">gv</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;graph&#39;</span><span class="p">,</span> <span class="n">rankdir</span><span class="o">=</span><span class="s1">&#39;BT&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">l</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The selected nodes are not in the univers&quot;</span><span class="p">)</span>
            <span class="n">g</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;doublecircle&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
                <span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
            <span class="n">g</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
                <span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">:</span>
                <span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rels</span><span class="p">:</span>
            <span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">salida</span><span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="n">display</span><span class="p">(</span><span class="n">SVG</span><span class="p">(</span><span class="n">salida</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">salida</span>

    <span class="k">def</span> <span class="nf">hasse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draws (and returns) the hasse diagram associated to the relation (removes reflexive and transitive relations)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rels</span> <span class="k">if</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">rsm</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rels</span> <span class="k">if</span> <span class="nb">any</span><span class="p">(((</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">x</span><span class="p">)</span> <span class="ow">in</span> <span class="n">rs</span><span class="p">)</span> <span class="ow">and</span> <span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">in</span> <span class="n">rs</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">))</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">gv</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">:</span>
            <span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">rs</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">rsm</span><span class="p">):</span>
            <span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">salida</span><span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="n">display</span><span class="p">(</span><span class="n">SVG</span><span class="p">(</span><span class="n">salida</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">relation</span><span class="p">(</span><span class="n">rs</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">rsm</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">maximals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the maximal elements of l with respect to the relation</span>
<span class="sd">        We do now check in this simplified version if the relation is an order relation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The argument must be a subset of the universe&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">l</span> <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">l</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rel</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span><span class="o">==</span><span class="nb">set</span><span class="p">({</span><span class="n">a</span><span class="p">}))</span>

    <span class="k">def</span> <span class="nf">minimals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the minimal elements of l with respect to the relation</span>
<span class="sd">        We do now check in this simplified version if the relation is an order relation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The argument must be a subset of the universe&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">l</span> <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">l</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rel</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">))</span><span class="o">==</span><span class="nb">set</span><span class="p">({</span><span class="n">a</span><span class="p">}))</span>

    <span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">l</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the maximum of l with respect to the relation, if any (otherwise None)</span>
<span class="sd">        We do now check in this simplified version if the relation is an order relation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;El argumento debe ser un subconjunto del universo de la relación&quot;</span><span class="p">)</span>
        <span class="n">m</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maximals</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="o">!=</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">m</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">minimum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">l</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the minimum of l with respect to the relation, if any (otherwise None)</span>
<span class="sd">        We do now check in this simplified version if the relation is an order relation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;El argumento debe ser un subconjunto del universo de la relación&quot;</span><span class="p">)</span>
        <span class="n">m</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minimals</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="o">!=</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">m</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">infimum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">l</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the infimum of l with respect to the relation, if any (otherwise None)</span>
<span class="sd">        We do now check in this simplified version if the relation is an order relation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;El argumento debe ser un subconjunto del universo de la relación&quot;</span><span class="p">)</span>
        <span class="n">m</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minorantes</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">supremum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">l</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the supremum of l with respect to the relation, if any (otherwise None)</span>
<span class="sd">        We do now check in this simplified version if the relation is an order relation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;El argumento debe ser un subconjunto del universo de la relación&quot;</span><span class="p">)</span>
        <span class="n">m</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mayorantes</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">atomos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the atoms, though in this simplified version we do not check if the </span>
<span class="sd">        relation is a boolean algebra</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">zero</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zero</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">zero</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">zero</span><span class="o">==</span><span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The univers does not have a minimum&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">zero</span> <span class="o">=</span> <span class="n">zero</span>

        <span class="n">un</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">universo</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">un</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">minimals</span><span class="p">(</span><span class="n">un</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">divisores</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines the set of divisors of n with divisibility as binary relation, if n is a positive integer</span>
<span class="sd">    In the case n is a set of integers, then the universe is this set and the relation is divisibility</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">n</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">u</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="k">a</span>==0)
        <span class="k">return</span> <span class="n">relation</span><span class="p">(</span><span class="nb">set</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">u</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">u</span> <span class="k">if</span> <span class="n">b</span><span class="o">%</span><span class="k">a</span>==0),u)
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="nb">set</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">relation</span><span class="p">(</span><span class="nb">set</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">u</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">u</span> <span class="k">if</span> <span class="n">b</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="p">(</span><span class="n">a</span><span class="o">!=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">b</span><span class="o">%</span><span class="k">a</span>==0)))

    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The argument must be either a positive integer or a set of integers&quot;</span><span class="p">)</span>

    
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">IntSlider</span>
  
<span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">Hasse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">divisores</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">Hasse</span><span class="p">:</span>
        <span class="n">r</span><span class="o">.</span><span class="n">hasse</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="n">r</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">atomos</span><span class="p">())</span>
    
<span class="n">interact</span><span class="p">(</span><span class="n">plot</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="n">IntSlider</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span><span class="n">Hasse</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_svg output_subarea ">
<svg height="272pt" viewBox="0.00 0.00 366.57 271.80" width="367pt" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" id="graph0" transform="scale(1 1) rotate(0) translate(4 267.801)">
<title>%3</title>
<polygon fill="white" points="-4,4 -4,-267.801 362.567,-267.801 362.567,4 -4,4" stroke="none"/>
<!-- 2 -->
<g class="node" id="node1"><title>2</title>
<ellipse cx="44.6165" cy="-94" fill="none" rx="18" ry="18" stroke="black"/>
<ellipse cx="44.6165" cy="-94" fill="none" rx="22" ry="22" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="44.6165" y="-89.8">2</text>
</g>
<!-- 2&#45;&gt;2 -->
<g class="edge" id="edge15"><title>2-&gt;2</title>
<path d="M62.3009,-80.8772C73.6724,-77.4539 84.6165,-81.8281 84.6165,-94 84.6165,-102.368 79.4437,-107.051 72.5155,-108.048" fill="none" stroke="black"/>
<polygon fill="black" points="72.5759,-104.539 62.3009,-107.123 71.9445,-111.51 72.5759,-104.539" stroke="black"/>
</g>
<!-- 10 -->
<g class="node" id="node5"><title>10</title>
<ellipse cx="209.616" cy="-170.95" fill="none" rx="18.9007" ry="18.9007" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="209.616" y="-166.75">10</text>
</g>
<!-- 2&#45;&gt;10 -->
<g class="edge" id="edge21"><title>2-&gt;10</title>
<path d="M64.5193,-104.041C94.192,-117.519 150.073,-142.903 183.156,-157.931" fill="none" stroke="black"/>
<polygon fill="black" points="182.084,-161.288 192.637,-162.237 184.979,-154.915 182.084,-161.288" stroke="black"/>
</g>
<!-- 30 -->
<g class="node" id="node6"><title>30</title>
<ellipse cx="162.616" cy="-244.851" fill="none" rx="18.9007" ry="18.9007" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="162.616" y="-240.651">30</text>
</g>
<!-- 2&#45;&gt;30 -->
<g class="edge" id="edge12"><title>2-&gt;30</title>
<path d="M46.1489,-116.256C48.6049,-136.941 54.9948,-168.324 71.6165,-189.901 87.8953,-211.032 114.992,-225.551 135.393,-234.159" fill="none" stroke="black"/>
<polygon fill="black" points="134.208,-237.454 144.793,-237.913 136.805,-230.954 134.208,-237.454" stroke="black"/>
</g>
<!-- 6 -->
<g class="node" id="node7"><title>6</title>
<ellipse cx="98.6165" cy="-170.95" fill="none" rx="18" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="98.6165" y="-166.75">6</text>
</g>
<!-- 2&#45;&gt;6 -->
<g class="edge" id="edge19"><title>2-&gt;6</title>
<path d="M57.1409,-112.383C64.6145,-122.757 74.1891,-136.046 82.2555,-147.242" fill="none" stroke="black"/>
<polygon fill="black" points="79.647,-149.609 88.3324,-155.676 85.3265,-145.517 79.647,-149.609" stroke="black"/>
</g>
<!-- 3 -->
<g class="node" id="node2"><title>3</title>
<ellipse cx="162.616" cy="-94" fill="none" rx="18" ry="18" stroke="black"/>
<ellipse cx="162.616" cy="-94" fill="none" rx="22" ry="22" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="162.616" y="-89.8">3</text>
</g>
<!-- 3&#45;&gt;3 -->
<g class="edge" id="edge9"><title>3-&gt;3</title>
<path d="M180.301,-80.8772C191.672,-77.4539 202.616,-81.8281 202.616,-94 202.616,-102.368 197.444,-107.051 190.516,-108.048" fill="none" stroke="black"/>
<polygon fill="black" points="190.576,-104.539 180.301,-107.123 189.945,-111.51 190.576,-104.539" stroke="black"/>
</g>
<!-- 3&#45;&gt;30 -->
<g class="edge" id="edge20"><title>3-&gt;30</title>
<path d="M162.616,-116.011C162.616,-142.019 162.616,-186.42 162.616,-215.447" fill="none" stroke="black"/>
<polygon fill="black" points="159.117,-215.749 162.616,-225.749 166.117,-215.749 159.117,-215.749" stroke="black"/>
</g>
<!-- 3&#45;&gt;6 -->
<g class="edge" id="edge14"><title>3-&gt;6</title>
<path d="M148.729,-111.263C139.29,-122.317 126.716,-137.043 116.525,-148.978" fill="none" stroke="black"/>
<polygon fill="black" points="113.75,-146.838 109.918,-156.715 119.073,-151.383 113.75,-146.838" stroke="black"/>
</g>
<!-- 15 -->
<g class="node" id="node8"><title>15</title>
<ellipse cx="321.616" cy="-170.95" fill="none" rx="18.9007" ry="18.9007" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="321.616" y="-166.75">15</text>
</g>
<!-- 3&#45;&gt;15 -->
<g class="edge" id="edge1"><title>3-&gt;15</title>
<path d="M182.432,-104.341C210.95,-117.784 263.613,-142.608 295.346,-157.567" fill="none" stroke="black"/>
<polygon fill="black" points="293.934,-160.771 304.472,-161.869 296.919,-154.439 293.934,-160.771" stroke="black"/>
</g>
<!-- 5 -->
<g class="node" id="node3"><title>5</title>
<ellipse cx="280.616" cy="-94" fill="none" rx="18" ry="18" stroke="black"/>
<ellipse cx="280.616" cy="-94" fill="none" rx="22" ry="22" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="280.616" y="-89.8">5</text>
</g>
<!-- 5&#45;&gt;5 -->
<g class="edge" id="edge10"><title>5-&gt;5</title>
<path d="M298.301,-80.8772C309.672,-77.4539 320.616,-81.8281 320.616,-94 320.616,-102.368 315.444,-107.051 308.516,-108.048" fill="none" stroke="black"/>
<polygon fill="black" points="308.576,-104.539 298.301,-107.123 307.945,-111.51 308.576,-104.539" stroke="black"/>
</g>
<!-- 5&#45;&gt;10 -->
<g class="edge" id="edge24"><title>5-&gt;10</title>
<path d="M265.905,-110.53C255.376,-121.644 241.08,-136.736 229.531,-148.928" fill="none" stroke="black"/>
<polygon fill="black" points="226.741,-146.784 222.405,-156.451 231.823,-151.598 226.741,-146.784" stroke="black"/>
</g>
<!-- 5&#45;&gt;30 -->
<g class="edge" id="edge7"><title>5-&gt;30</title>
<path d="M279.643,-116.27C277.707,-136.966 272.04,-168.357 255.616,-189.901 239.009,-211.686 210.879,-226.224 189.895,-234.664" fill="none" stroke="black"/>
<polygon fill="black" points="188.642,-231.396 180.538,-238.22 191.129,-237.939 188.642,-231.396" stroke="black"/>
</g>
<!-- 5&#45;&gt;15 -->
<g class="edge" id="edge23"><title>5-&gt;15</title>
<path d="M290.751,-113.527C295.944,-123.019 302.34,-134.712 307.961,-144.988" fill="none" stroke="black"/>
<polygon fill="black" points="304.979,-146.828 312.848,-153.922 311.12,-143.469 304.979,-146.828" stroke="black"/>
</g>
<!-- 1 -->
<g class="node" id="node4"><title>1</title>
<ellipse cx="162.616" cy="-18" fill="none" rx="18" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="162.616" y="-13.8">1</text>
</g>
<!-- 1&#45;&gt;2 -->
<g class="edge" id="edge6"><title>1-&gt;2</title>
<path d="M147.672,-28.3722C128.535,-40.3732 95.0318,-61.3836 71.4305,-76.1844" fill="none" stroke="black"/>
<polygon fill="black" points="69.5328,-73.2431 62.9204,-81.5212 73.2519,-79.1735 69.5328,-73.2431" stroke="black"/>
</g>
<!-- 1&#45;&gt;3 -->
<g class="edge" id="edge2"><title>1-&gt;3</title>
<path d="M162.616,-36.1631C162.616,-43.835 162.616,-53.1225 162.616,-61.9465" fill="none" stroke="black"/>
<polygon fill="black" points="159.117,-61.9678 162.616,-71.9678 166.117,-61.9678 159.117,-61.9678" stroke="black"/>
</g>
<!-- 1&#45;&gt;5 -->
<g class="edge" id="edge13"><title>1-&gt;5</title>
<path d="M177.561,-28.3722C196.698,-40.3732 230.201,-61.3836 253.802,-76.1844" fill="none" stroke="black"/>
<polygon fill="black" points="251.981,-79.1735 262.312,-81.5212 255.7,-73.2431 251.981,-79.1735" stroke="black"/>
</g>
<!-- 1&#45;&gt;1 -->
<g class="edge" id="edge17"><title>1-&gt;1</title>
<path d="M176.283,-5.75391C187.273,-0.855469 198.616,-4.9375 198.616,-18 198.616,-26.9805 193.255,-31.7163 186.333,-32.2074" fill="none" stroke="black"/>
<polygon fill="black" points="186.769,-28.7265 176.283,-30.2461 185.428,-35.5969 186.769,-28.7265" stroke="black"/>
</g>
<!-- 1&#45;&gt;10 -->
<g class="edge" id="edge16"><title>1-&gt;10</title>
<path d="M176.869,-29.3523C188.701,-38.904 204.674,-54.2629 211.616,-72 220.393,-94.4209 218.852,-121.996 215.72,-142.17" fill="none" stroke="black"/>
<polygon fill="black" points="212.231,-141.798 213.928,-152.256 219.123,-143.023 212.231,-141.798" stroke="black"/>
</g>
<!-- 1&#45;&gt;30 -->
<g class="edge" id="edge27"><title>1-&gt;30</title>
<path d="M144.525,-19.2286C111.912,-20.7393 43.8521,-29.1535 13.6165,-72 -18.0488,-116.872 11.4865,-151.364 50.6165,-189.901 74.1633,-213.09 109.612,-227.84 134.301,-235.951" fill="none" stroke="black"/>
<polygon fill="black" points="133.568,-239.388 144.156,-239.025 135.652,-232.706 133.568,-239.388" stroke="black"/>
</g>
<!-- 1&#45;&gt;6 -->
<g class="edge" id="edge5"><title>1-&gt;6</title>
<path d="M153.098,-33.4176C146.49,-43.8395 137.798,-58.4169 131.616,-72 120.919,-95.5047 111.82,-123.537 105.903,-143.579" fill="none" stroke="black"/>
<polygon fill="black" points="102.518,-142.687 103.107,-153.265 109.243,-144.628 102.518,-142.687" stroke="black"/>
</g>
<!-- 1&#45;&gt;15 -->
<g class="edge" id="edge4"><title>1-&gt;15</title>
<path d="M180.85,-18.4402C216.43,-18.4662 294.677,-24.2553 329.616,-72 344.665,-92.5636 339.432,-122.471 332.461,-143.821" fill="none" stroke="black"/>
<polygon fill="black" points="329.16,-142.655 329.091,-153.25 335.752,-145.011 329.16,-142.655" stroke="black"/>
</g>
<!-- 10&#45;&gt;10 -->
<g class="edge" id="edge25"><title>10-&gt;10</title>
<path d="M224.414,-159.045C235.447,-154.888 246.567,-158.857 246.567,-170.95 246.567,-179.265 241.311,-183.739 234.441,-184.372" fill="none" stroke="black"/>
<polygon fill="black" points="234.825,-180.89 224.414,-182.855 233.778,-187.812 234.825,-180.89" stroke="black"/>
</g>
<!-- 10&#45;&gt;30 -->
<g class="edge" id="edge8"><title>10-&gt;30</title>
<path d="M199.649,-187.199C193.418,-196.731 185.261,-209.21 178.189,-220.028" fill="none" stroke="black"/>
<polygon fill="black" points="175.112,-218.339 172.57,-228.625 180.971,-222.169 175.112,-218.339" stroke="black"/>
</g>
<!-- 30&#45;&gt;30 -->
<g class="edge" id="edge26"><title>30-&gt;30</title>
<path d="M177.414,-232.946C188.447,-228.789 199.567,-232.757 199.567,-244.851 199.567,-253.165 194.311,-257.639 187.441,-258.273" fill="none" stroke="black"/>
<polygon fill="black" points="187.825,-254.791 177.414,-256.756 186.778,-261.712 187.825,-254.791" stroke="black"/>
</g>
<!-- 6&#45;&gt;30 -->
<g class="edge" id="edge22"><title>6-&gt;30</title>
<path d="M110.355,-185.138C119.709,-195.647 132.988,-210.565 143.819,-222.733" fill="none" stroke="black"/>
<polygon fill="black" points="141.254,-225.116 150.517,-230.258 146.483,-220.462 141.254,-225.116" stroke="black"/>
</g>
<!-- 6&#45;&gt;6 -->
<g class="edge" id="edge3"><title>6-&gt;6</title>
<path d="M112.658,-159.194C123.529,-154.797 134.616,-158.716 134.616,-170.95 134.616,-179.361 129.376,-183.842 122.568,-184.392" fill="none" stroke="black"/>
<polygon fill="black" points="123.104,-180.933 112.658,-182.707 121.93,-187.834 123.104,-180.933" stroke="black"/>
</g>
<!-- 15&#45;&gt;30 -->
<g class="edge" id="edge11"><title>15-&gt;30</title>
<path d="M305.324,-181.205C300.048,-184.096 294.133,-187.226 288.616,-189.901 254.968,-206.211 215.153,-222.826 189.421,-233.226" fill="none" stroke="black"/>
<polygon fill="black" points="187.94,-230.048 179.965,-237.023 190.549,-236.544 187.94,-230.048" stroke="black"/>
</g>
<!-- 15&#45;&gt;15 -->
<g class="edge" id="edge18"><title>15-&gt;15</title>
<path d="M336.414,-159.045C347.447,-154.888 358.567,-158.857 358.567,-170.95 358.567,-179.265 353.311,-183.739 346.441,-184.372" fill="none" stroke="black"/>
<polygon fill="black" points="346.825,-180.89 336.414,-182.855 345.778,-187.812 346.825,-180.89" stroke="black"/>
</g>
</g>
</svg>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="References">References<a class="anchor-link" href="#References">&#182;</a></h3><ul>
<li><a href="https://github.com/pedritomelenas/LMD/tree/master/relationes%20y%20Algebras%20de%20Boole">https://github.com/pedritomelenas/LMD/tree/master/relationes%20y%20Algebras%20de%20Boole</a> </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="&#160;Keywords">&#160;Keywords<a class="anchor-link" href="#&#160;Keywords">&#182;</a></h3><ul>
<li>Graph</li>
<li>divisors</li>
<li>Hasse diagram</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Requirements">Requirements<a class="anchor-link" href="#Requirements">&#182;</a></h3><ul>
<li>graphviz</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="License">License<a class="anchor-link" href="#License">&#182;</a></h3><p>This notebook is distributed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons license (CC-BY 4.0)</a></p>

</div>
</div>
</div>
 

